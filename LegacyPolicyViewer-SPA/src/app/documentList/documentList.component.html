
<div class="container search-results">
  
  <h2>Policy Documents for {{ policy.insuredName }}</h2>
  <br />
  <table class="table mt-2">
    <accordion [isAnimated]="true">
      
      <accordion-group heading="{{policyHeader}}" (click)="changePolicyHeader()">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Year</th>
            <th scope="col">Document Type</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let el of policy.documents">
            
            <td>{{el.year}}</td>
            <td>
              <a href="{{ el.refUrl }}" target="_blank">{{ el.docType }}</a>
            </td>
            <td>
              <button class="button btn btn-sm btn-primary" style="min-width: 150px;" (click)="createPresignedUrl(el.refUrl)">View Document</button>
            </td>
          </tr>
        </tbody>
      </accordion-group>
    </accordion>
  </table>
</div>

<div class="container search-results">
  <h2>Claim Documents for {{ policy.insuredName }}</h2>
  <br />
  <table class="table mt-2">
    <accordion [isAnimated]="true">
      <accordion-group heading="{{claimHeader}}" (click)="changeClaimHeader()">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Claim Number</th>
            <th scope="col">Year</th>
            <th scope="col">Document Type</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let el of policy.claims">
            <td>{{ el.claimId }}</td>
            <td>{{el.year}}</td>
            <td>
              <a href="{{ el.url }}" target="_blank">{{ el.docType }}</a>
            </td>
          </tr>
        </tbody>
      </accordion-group>
    </accordion>
  </table>
</div>
